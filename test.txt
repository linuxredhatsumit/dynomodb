############
 % python3 api-disable-logs 
2025-06-11 13:11:22,426 - INFO - Found credentials in environment variables.
2025-06-11 13:11:22,604 - INFO - Connected to AWS API Gateway in region ap-south-1
2025-06-11 13:11:22,604 - INFO - Checking API with ID: 3boyxurfk7 (Name: 811-pfm-dev-api-gw)
Traceback (most recent call last):
  File "/Users/KMBL350986/test-811/test-811-DevOps-Pipelines/others/api-disable-logs", line 23, in <module>
    stage_paginator = client.get_paginator('get_stages')
  File "/Users/KMBL350986/Library/Python/3.9/lib/python/site-packages/botocore/client.py", line 1171, in get_paginator
    raise OperationNotPageableError(operation_name=operation_name)
botocore.exceptions.OperationNotPageableError: Operation cannot be paginated: get_stages


#######################


 % python3 api-disable-logs
2025-06-11 13:24:37,938 - INFO - Found credentials in environment variables.
2025-06-11 13:24:38,113 - INFO - Connected to AWS API Gateway in region ap-south-1
2025-06-11 13:24:38,113 - INFO - Checking API with ID: 3boyxurfk7 (Name: 811-pfm-dev-api-gw)
2025-06-11 13:24:38,304 - INFO - Found 1 stages for API 811-pfm-dev-api-gw
2025-06-11 13:24:38,304 - INFO - Checking stage: 811-onb-pfm in API: 811-pfm-dev-api-gw
2025-06-11 13:24:38,304 - INFO - Stage 811-onb-pfm - CloudWatch Logs: Enabled, Data Tracing: Enabled
2025-06-11 13:24:38,304 - INFO - Updating stage 811-onb-pfm to disable CloudWatch logs and Data Tracing
2025-06-11 13:24:38,382 - ERROR - Failed to update stage 811-onb-pfm in API 811-pfm-dev-api-gw: Invalid method setting path: /*/*/loggingLevel. Must be one of: [/deploymentId, /description, /cacheClusterEnabled, /cacheClusterSize, /clientCertificateId, /accessLogSettings, /accessLogSettings/destinationArn, /accessLogSettings/format, /{resourcePath}/{httpMethod}/metrics/enabled, /{resourcePath}/{httpMethod}/logging/dataTrace, /{resourcePath}/{httpMethod}/logging/loglevel, /{resourcePath}/{httpMethod}/throttling/burstLimit/{resourcePath}/{httpMethod}/throttling/rateLimit/{resourcePath}/{httpMethod}/caching/ttlInSeconds, /{resourcePath}/{httpMethod}/caching/enabled, /{resourcePath}/{httpMethod}/caching/dataEncrypted, /{resourcePath}/{httpMethod}/caching/requireAuthorizationForCacheControl, /{resourcePath}/{httpMethod}/caching/unauthorizedCacheControlHeaderStrategy, /*/*/metrics/enabled, /*/*/logging/dataTrace, /*/*/logging/loglevel, /*/*/throttling/burstLimit /*/*/throttling/rateLimit /*/*/caching/ttlInSeconds, /*/*/caching/enabled, /*/*/caching/dataEncrypted, /*/*/caching/requireAuthorizationForCacheControl, /*/*/caching/unauthorizedCacheControlHeaderStrategy, /variables/{variable_name}, /tracingEnabled]
2025-06-11 13:24:38,383 - INFO - Script completed successfully!
KMBL350986@KBMK24-00000929 others % 
