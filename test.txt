/usr/bin/bash --noprofile --norc /home/app_user/workspace/Agent7/_work/_temp/6344794e-87df-4cfe-9961-96c9b563bf14.sh
Assuming UAT role to access UAT ECR
/home/app_user/workspace/Agent7/_work/_temp/6344794e-87df-4cfe-9961-96c9b563bf14.sh: line 5: SOURCE_ROLE_NAME: command not found

An error occurred (AccessDenied) when calling the AssumeRole operation: User: arn:aws:sts::483584640083:assumed-role/AWS-EC2-Role/i-06950af8d81d0affc is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::483584640083:role/
Logging into UAT ECR
WARNING! Your password will be stored unencrypted in /home/app_user/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
Pulling image from UAT ECR
Error response from daemon: pull access denied for 483584640083.dkr.ecr.ap-south-1.amazonaws.com/811uatonb/k811_ms_kyc, repository does not exist or may require 'docker login': denied: User: arn:aws:sts::483584640083:assumed-role/AWS-EC2-Role/i-06950af8d81d0affc is not authorized to perform: ecr:BatchGetImage on resource: arn:aws:ecr:ap-south-1:483584640083:repository/811uatonb/k811_ms_kyc because no identity-based policy allows the ecr:BatchGetImage action
Assuming PROD role to push to PROD ECR

An error occurred (AccessDenied) when calling the AssumeRole operation: User: arn:aws:sts::483584640083:assumed-role/AWS-EC2-Role/i-06950af8d81d0affc is not authorized to perform: sts:AssumeRole on resource: arn:aws:iam::718378052708:role/EKS-Setup-Role-Kotak811
Logging into PROD ECR
WARNING! Your password will be stored unencrypted in /home/app_user/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
Checking if image exists in PROD ECR
Image not found in PROD ECR. Pushing...
Error response from daemon: No such image: 483584640083.dkr.ecr.ap-south-1.amazonaws.com/811uatonb/k811_ms_kyc:811_app_ms_kyc-development-20250702.2
The push refers to repository [718378052708.dkr.ecr.ap-south-1.amazonaws.com/811prodonb/k811_kyc]
An image does not exist locally with the tag: 718378052708.dkr.ecr.ap-south-1.amazonaws.com/811prodonb/k811_kyc

##[error]Bash exited with code '1'.
Finishing: PROD: Promote Docker Image from UAT to PROD
